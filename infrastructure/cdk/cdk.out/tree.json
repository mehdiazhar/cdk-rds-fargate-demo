{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"flexis-vpc-development":{"id":"flexis-vpc-development","path":"flexis-vpc-development","children":{"Vpc":{"id":"Vpc","path":"flexis-vpc-development/Vpc","children":{"Resource":{"id":"Resource","path":"flexis-vpc-development/Vpc/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.20.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-development-vpc"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.191.0"}},"flexis-development-publicSubnet1":{"id":"flexis-development-publicSubnet1","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1","children":{"Subnet":{"id":"Subnet","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.20.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"application","value":"flexischools"},{"key":"aws-cdk:subnet-name","value":"flexis-development-public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.191.0"}},"Acl":{"id":"Acl","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.191.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcflexisdevelopmentpublicSubnet1RouteTableB682DF7C"},"subnetId":{"Ref":"VpcflexisdevelopmentpublicSubnet1Subnet3E4BE179"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.191.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcflexisdevelopmentpublicSubnet1RouteTableB682DF7C"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.191.0"}},"EIP":{"id":"EIP","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.191.0"}},"NATGateway":{"id":"NATGateway","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["VpcflexisdevelopmentpublicSubnet1EIP617F4314","AllocationId"]},"subnetId":{"Ref":"VpcflexisdevelopmentpublicSubnet1Subnet3E4BE179"},"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-publicSubnet1"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.191.0","metadata":[]}},"flexis-development-publicSubnet2":{"id":"flexis-development-publicSubnet2","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2","children":{"Subnet":{"id":"Subnet","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.20.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"application","value":"flexischools"},{"key":"aws-cdk:subnet-name","value":"flexis-development-public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.191.0"}},"Acl":{"id":"Acl","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.191.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcflexisdevelopmentpublicSubnet2RouteTable5A635D84"},"subnetId":{"Ref":"VpcflexisdevelopmentpublicSubnet2Subnet4FD2A5D1"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.191.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"flexis-vpc-development/Vpc/flexis-development-publicSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcflexisdevelopmentpublicSubnet2RouteTable5A635D84"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.191.0","metadata":[]}},"flexis-development-privateSubnet1":{"id":"flexis-development-privateSubnet1","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1","children":{"Subnet":{"id":"Subnet","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.20.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"application","value":"flexischools"},{"key":"aws-cdk:subnet-name","value":"flexis-development-private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.191.0"}},"Acl":{"id":"Acl","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.191.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcflexisdevelopmentprivateSubnet1RouteTable3C35E5FB"},"subnetId":{"Ref":"VpcflexisdevelopmentprivateSubnet1Subnet64C4DFDF"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.191.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VpcflexisdevelopmentpublicSubnet1NATGateway34CE45C7"},"routeTableId":{"Ref":"VpcflexisdevelopmentprivateSubnet1RouteTable3C35E5FB"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.191.0","metadata":[]}},"flexis-development-privateSubnet2":{"id":"flexis-development-privateSubnet2","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2","children":{"Subnet":{"id":"Subnet","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.20.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"application","value":"flexischools"},{"key":"aws-cdk:subnet-name","value":"flexis-development-private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.191.0"}},"Acl":{"id":"Acl","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.191.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcflexisdevelopmentprivateSubnet2RouteTableBB5DD624"},"subnetId":{"Ref":"VpcflexisdevelopmentprivateSubnet2Subnet499D0346"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.191.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"flexis-vpc-development/Vpc/flexis-development-privateSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VpcflexisdevelopmentpublicSubnet1NATGateway34CE45C7"},"routeTableId":{"Ref":"VpcflexisdevelopmentprivateSubnet2RouteTableBB5DD624"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.191.0","metadata":[]}},"IGW":{"id":"IGW","path":"flexis-vpc-development/Vpc/IGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-development-vpc"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.191.0"}},"VPCGW":{"id":"VPCGW","path":"flexis-vpc-development/Vpc/VPCGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"VpcIGWD7BA715C"},"vpcId":{"Ref":"Vpc8378EB38"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.191.0","metadata":[]}},"VpcId":{"id":"VpcId","path":"flexis-vpc-development/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"PublicSubnetIds":{"id":"PublicSubnetIds","path":"flexis-vpc-development/PublicSubnetIds","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"PrivateSubnetIds":{"id":"PrivateSubnetIds","path":"flexis-vpc-development/PrivateSubnetIds","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"flexis-vpc-development/CDKMetadata","children":{"Default":{"id":"Default","path":"flexis-vpc-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"Exports":{"id":"Exports","path":"flexis-vpc-development/Exports","children":{"Output{\"Ref\":\"Vpc8378EB38\"}":{"id":"Output{\"Ref\":\"Vpc8378EB38\"}","path":"flexis-vpc-development/Exports/Output{\"Ref\":\"Vpc8378EB38\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"Output{\"Ref\":\"VpcflexisdevelopmentprivateSubnet1Subnet64C4DFDF\"}":{"id":"Output{\"Ref\":\"VpcflexisdevelopmentprivateSubnet1Subnet64C4DFDF\"}","path":"flexis-vpc-development/Exports/Output{\"Ref\":\"VpcflexisdevelopmentprivateSubnet1Subnet64C4DFDF\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"Output{\"Ref\":\"VpcflexisdevelopmentprivateSubnet2Subnet499D0346\"}":{"id":"Output{\"Ref\":\"VpcflexisdevelopmentprivateSubnet2Subnet499D0346\"}","path":"flexis-vpc-development/Exports/Output{\"Ref\":\"VpcflexisdevelopmentprivateSubnet2Subnet499D0346\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"Output{\"Ref\":\"VpcflexisdevelopmentpublicSubnet1Subnet3E4BE179\"}":{"id":"Output{\"Ref\":\"VpcflexisdevelopmentpublicSubnet1Subnet3E4BE179\"}","path":"flexis-vpc-development/Exports/Output{\"Ref\":\"VpcflexisdevelopmentpublicSubnet1Subnet3E4BE179\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"Output{\"Ref\":\"VpcflexisdevelopmentpublicSubnet2Subnet4FD2A5D1\"}":{"id":"Output{\"Ref\":\"VpcflexisdevelopmentpublicSubnet2Subnet4FD2A5D1\"}","path":"flexis-vpc-development/Exports/Output{\"Ref\":\"VpcflexisdevelopmentpublicSubnet2Subnet4FD2A5D1\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"flexis-vpc-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.191.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"flexis-vpc-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.191.0"}},"flexis-sgs-development":{"id":"flexis-sgs-development","path":"flexis-sgs-development","children":{"Vpc":{"id":"Vpc","path":"flexis-sgs-development/Vpc","children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"flexis-sgs-development/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"flexis-sgs-development/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"flexis-sgs-development/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"flexis-sgs-development/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"RdsSg":{"id":"RdsSg","path":"flexis-sgs-development/RdsSg","children":{"Resource":{"id":"Resource","path":"flexis-sgs-development/RdsSg/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Flexischools Postgres","groupName":"flexis-development-rds-sg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-development-rds-sg"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpc8378EB38272D6E3A"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.191.0"}},"from flexissgsdevelopmentEcsAppSgADA08223:5432":{"id":"from flexissgsdevelopmentEcsAppSgADA08223:5432","path":"flexis-sgs-development/RdsSg/from flexissgsdevelopmentEcsAppSgADA08223:5432","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow Postgres from ECS","fromPort":5432,"groupId":{"Fn::GetAtt":["RdsSg7F9F43B6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["EcsAppSgB93699B9","GroupId"]},"toPort":5432}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.191.0","metadata":[]}},"EcsAppSg":{"id":"EcsAppSg","path":"flexis-sgs-development/EcsAppSg","children":{"Resource":{"id":"Resource","path":"flexis-sgs-development/EcsAppSg/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Flexischools ECS","groupName":"flexis-development-ecs-sg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-development-ecs-sg"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpc8378EB38272D6E3A"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.191.0","metadata":[]}},"AlbSg":{"id":"AlbSg","path":"flexis-sgs-development/AlbSg","children":{"Resource":{"id":"Resource","path":"flexis-sgs-development/AlbSg/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Flexischools ALB","groupName":"flexis-development-alb-sg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"10.20.0.0/16","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP to ALB from VPC CIDR"}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"Name","value":"flexis-development-alb-sg"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcId":{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpc8378EB38272D6E3A"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.191.0","metadata":[]}},"RdsSgId":{"id":"RdsSgId","path":"flexis-sgs-development/RdsSgId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"EcsAppSgId":{"id":"EcsAppSgId","path":"flexis-sgs-development/EcsAppSgId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"AlbSgId":{"id":"AlbSgId","path":"flexis-sgs-development/AlbSgId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"flexis-sgs-development/CDKMetadata","children":{"Default":{"id":"Default","path":"flexis-sgs-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"flexis-sgs-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.191.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"flexis-sgs-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.191.0"}},"flexis-rds-development":{"id":"flexis-rds-development","path":"flexis-rds-development","children":{"Vpc":{"id":"Vpc","path":"flexis-rds-development/Vpc","children":{"PrivateSubnet1":{"id":"PrivateSubnet1","path":"flexis-rds-development/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"flexis-rds-development/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"flexis-rds-development/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"flexis-rds-development/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"ImportedRdsSg":{"id":"ImportedRdsSg","path":"flexis-rds-development/ImportedRdsSg","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"ClusterParameterGroup":{"id":"ClusterParameterGroup","path":"flexis-rds-development/ClusterParameterGroup","children":{"Resource":{"id":"Resource","path":"flexis-rds-development/ClusterParameterGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBClusterParameterGroup","aws:cdk:cloudformation:props":{"description":"flexischools aurora postgres development cluster parameters","family":"aurora-postgresql17","parameters":{"rds.force_ssl":"1","log_connections":"1","log_disconnections":"1","log_min_duration_statement":"1000"},"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBClusterParameterGroup","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.ParameterGroup","version":"2.191.0","metadata":[]}},"FlexiAuroraPostgres":{"id":"FlexiAuroraPostgres","path":"flexis-rds-development/FlexiAuroraPostgres","children":{"Subnets":{"id":"Subnets","path":"flexis-rds-development/FlexiAuroraPostgres/Subnets","children":{"Default":{"id":"Default","path":"flexis-rds-development/FlexiAuroraPostgres/Subnets/Default","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnets for FlexiAuroraPostgres database","subnetIds":[{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpcflexisdevelopmentprivateSubnet1Subnet64C4DFDFFF57E268"},{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpcflexisdevelopmentprivateSubnet2Subnet499D0346695584DE"}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.191.0","metadata":[]}},"Secret":{"id":"Secret","path":"flexis-rds-development/FlexiAuroraPostgres/Secret","children":{"Resource":{"id":"Resource","path":"flexis-rds-development/FlexiAuroraPostgres/Secret/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"flexis_admin\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"},"name":"flexischools/development/aurora-postgres/admin","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.191.0"}},"Attachment":{"id":"Attachment","path":"flexis-rds-development/FlexiAuroraPostgres/Secret/Attachment","children":{"Resource":{"id":"Resource","path":"flexis-rds-development/FlexiAuroraPostgres/Secret/Attachment/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"flexisrdsdevelopmentFlexiAuroraPostgresSecretE75E84123fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"FlexiAuroraPostgresD93500EB"},"targetType":"AWS::RDS::DBCluster"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.191.0","metadata":[]}},"Resource":{"id":"Resource","path":"flexis-rds-development/FlexiAuroraPostgres/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBCluster","aws:cdk:cloudformation:props":{"backupRetentionPeriod":7,"copyTagsToSnapshot":true,"databaseName":"flexisorders","dbClusterIdentifier":"flexis-aurora-postgres-development","dbClusterParameterGroupName":{"Ref":"ClusterParameterGroupF60E75FA"},"dbSubnetGroupName":{"Ref":"FlexiAuroraPostgresSubnets9E26E13B"},"deletionProtection":false,"enableCloudwatchLogsExports":["postgresql"],"engine":"aurora-postgresql","engineVersion":"17.7","masterUsername":"flexis_admin","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"flexisrdsdevelopmentFlexiAuroraPostgresSecretE75E84123fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"performanceInsightsEnabled":false,"port":5432,"preferredBackupWindow":"18:00-19:00","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"vpcSecurityGroupIds":[{"Fn::ImportValue":"flexis-sg-development-rds-sg-id"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBCluster","version":"2.191.0"}},"LogRetentionpostgresql":{"id":"LogRetentionpostgresql","path":"flexis-rds-development/FlexiAuroraPostgres/LogRetentionpostgresql","children":{"Resource":{"id":"Resource","path":"flexis-rds-development/FlexiAuroraPostgres/LogRetentionpostgresql/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.191.0"}},"LogGroup${Token[TOKEN.182]}postgresql":{"id":"LogGroup${Token[TOKEN.182]}postgresql","path":"flexis-rds-development/FlexiAuroraPostgres/LogGroup${Token[TOKEN.182]}postgresql","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"Writer":{"id":"Writer","path":"flexis-rds-development/FlexiAuroraPostgres/Writer","children":{"Resource":{"id":"Resource","path":"flexis-rds-development/FlexiAuroraPostgres/Writer/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"dbClusterIdentifier":{"Ref":"FlexiAuroraPostgresD93500EB"},"dbInstanceClass":"db.t3.medium","dbInstanceIdentifier":"flexis-aurora-development-writer","engine":"aurora-postgresql","promotionTier":0,"publiclyAccessible":false,"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseCluster","version":"2.191.0","metadata":[]}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","children":{"Code":{"id":"Code","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","children":{"Stage":{"id":"Stage","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.191.0"}},"AssetBucket":{"id":"AssetBucket","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.191.0"}},"ServiceRole":{"id":"ServiceRole","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"Resource":{"id":"Resource","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.191.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.191.0","metadata":[]}},"Resource":{"id":"Resource","path":"flexis-rds-development/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"DbEndpoint":{"id":"DbEndpoint","path":"flexis-rds-development/DbEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"DbPort":{"id":"DbPort","path":"flexis-rds-development/DbPort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"DbName":{"id":"DbName","path":"flexis-rds-development/DbName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"DbSecretArn":{"id":"DbSecretArn","path":"flexis-rds-development/DbSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"DbClusterId":{"id":"DbClusterId","path":"flexis-rds-development/DbClusterId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"flexis-rds-development/CDKMetadata","children":{"Default":{"id":"Default","path":"flexis-rds-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"flexis-rds-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.191.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"flexis-rds-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.191.0"}},"flexis-ecs-cluster-development":{"id":"flexis-ecs-cluster-development","path":"flexis-ecs-cluster-development","children":{"Vpc":{"id":"Vpc","path":"flexis-ecs-cluster-development/Vpc","children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"flexis-ecs-cluster-development/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"flexis-ecs-cluster-development/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"flexis-ecs-cluster-development/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"flexis-ecs-cluster-development/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"Cluster":{"id":"Cluster","path":"flexis-ecs-cluster-development/Cluster","children":{"Resource":{"id":"Resource","path":"flexis-ecs-cluster-development/Cluster/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"flexis-development-cluster","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.191.0","metadata":[]}},"ClusterArn":{"id":"ClusterArn","path":"flexis-ecs-cluster-development/ClusterArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"ClusterName":{"id":"ClusterName","path":"flexis-ecs-cluster-development/ClusterName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"flexis-ecs-cluster-development/CDKMetadata","children":{"Default":{"id":"Default","path":"flexis-ecs-cluster-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"flexis-ecs-cluster-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.191.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"flexis-ecs-cluster-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.191.0"}},"flexis-sqs-development":{"id":"flexis-sqs-development","path":"flexis-sqs-development","children":{"OrdersQueue":{"id":"OrdersQueue","path":"flexis-sqs-development/OrdersQueue","children":{"Resource":{"id":"Resource","path":"flexis-sqs-development/OrdersQueue/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":345600,"queueName":"flexis-development-orders-queue","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"visibilityTimeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.191.0","metadata":[]}},"QueueUrl":{"id":"QueueUrl","path":"flexis-sqs-development/QueueUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"QueueArn":{"id":"QueueArn","path":"flexis-sqs-development/QueueArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"flexis-sqs-development/CDKMetadata","children":{"Default":{"id":"Default","path":"flexis-sqs-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"flexis-sqs-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.191.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"flexis-sqs-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.191.0"}},"flexis-orders-development":{"id":"flexis-orders-development","path":"flexis-orders-development","children":{"Vpc":{"id":"Vpc","path":"flexis-orders-development/Vpc","children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"flexis-orders-development/Vpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"flexis-orders-development/Vpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"flexis-orders-development/Vpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"flexis-orders-development/Vpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PublicSubnet1":{"id":"PublicSubnet1","path":"flexis-orders-development/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"flexis-orders-development/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"flexis-orders-development/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"flexis-orders-development/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"Cluster":{"id":"Cluster","path":"flexis-orders-development/Cluster","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"ImportedEcsAppSg":{"id":"ImportedEcsAppSg","path":"flexis-orders-development/ImportedEcsAppSg","children":{"from flexisordersdevelopmentImportedAlbSg0D2943FD:8080":{"id":"from flexisordersdevelopmentImportedAlbSg0D2943FD:8080","path":"flexis-orders-development/ImportedEcsAppSg/from flexisordersdevelopmentImportedAlbSg0D2943FD:8080","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":8080,"groupId":{"Fn::ImportValue":"flexis-sg-development-ecs-sg-id"},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::ImportValue":"flexis-sg-development-alb-sg-id"},"toPort":8080}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"ImportedAlbSg":{"id":"ImportedAlbSg","path":"flexis-orders-development/ImportedAlbSg","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"DbSecret":{"id":"DbSecret","path":"flexis-orders-development/DbSecret","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"OrdersQueue":{"id":"OrdersQueue","path":"flexis-orders-development/OrdersQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueueBase","version":"2.191.0","metadata":[]}},"TaskRole":{"id":"TaskRole","path":"flexis-orders-development/TaskRole","children":{"ImportTaskRole":{"id":"ImportTaskRole","path":"flexis-orders-development/TaskRole/ImportTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"Resource":{"id":"Resource","path":"flexis-orders-development/TaskRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.191.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"flexis-orders-development/TaskRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/TaskRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:ReceiveMessage","sqs:ChangeMessageVisibility","sqs:GetQueueUrl","sqs:DeleteMessage","sqs:GetQueueAttributes"],"Effect":"Allow","Resource":{"Fn::ImportValue":"flexis-orders-development-queue-arn"}},{"Action":["sqs:SendMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl"],"Effect":"Allow","Resource":{"Fn::ImportValue":"flexis-orders-development-queue-arn"}}],"Version":"2012-10-17"},"policyName":"TaskRoleDefaultPolicy07FC53DE","roles":[{"Ref":"TaskRole30FC0FBB"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.191.0","metadata":[]}},"ExecutionRole":{"id":"ExecutionRole","path":"flexis-orders-development/ExecutionRole","children":{"ImportExecutionRole":{"id":"ImportExecutionRole","path":"flexis-orders-development/ExecutionRole/ImportExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.191.0","metadata":[]}},"Resource":{"id":"Resource","path":"flexis-orders-development/ExecutionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.191.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"flexis-orders-development/ExecutionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/ExecutionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::ImportValue":"flexis-rds-development-secret-arn"}},{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:ap-southeast-2:103365315157:repository/cdk-hnb659fds-container-assets-103365315157-ap-southeast-2"]]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersLogGroup507704C6","Arn"]}}],"Version":"2012-10-17"},"policyName":"ExecutionRoleDefaultPolicyA5B92313","roles":[{"Ref":"ExecutionRole605A040B"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.191.0","metadata":[]}},"TaskDefinition":{"id":"TaskDefinition","path":"flexis-orders-development/TaskDefinition","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/TaskDefinition/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Sub":"103365315157.dkr.ecr.ap-southeast-2.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-103365315157-ap-southeast-2:bd10cc278454600075fcff480c554d0a26d7613552cb54d2bbdaddac8f3e33bc"},"name":"api","portMappings":[{"containerPort":8080,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"OrdersLogGroup507704C6"},"awslogs-stream-prefix":"orders","awslogs-region":"ap-southeast-2"}},"environment":[{"name":"DB_HOST","value":{"Fn::ImportValue":"flexis-rds-development-endpoint"}},{"name":"DB_PORT","value":{"Fn::ImportValue":"flexis-rds-development-port"}},{"name":"DB_NAME","value":{"Fn::ImportValue":"flexis-rds-development-dbname"}},{"name":"DB_USER","value":"flexis_admin"},{"name":"SQS_QUEUE_URL","value":{"Fn::ImportValue":"flexis-orders-development-queue-url"}}],"secrets":[{"name":"DB_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"flexis-rds-development-secret-arn"},":password::"]]}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ExecutionRole605A040B","Arn"]},"family":"flexisordersdevelopmentTaskDefinition895997E9","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"taskRoleArn":{"Fn::GetAtt":["TaskRole30FC0FBB","Arn"]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.191.0"}},"api":{"id":"api","path":"flexis-orders-development/TaskDefinition/api","children":{"AssetImage":{"id":"AssetImage","path":"flexis-orders-development/TaskDefinition/api/AssetImage","children":{"Staging":{"id":"Staging","path":"flexis-orders-development/TaskDefinition/api/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.191.0"}},"Repository":{"id":"Repository","path":"flexis-orders-development/TaskDefinition/api/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.191.0","metadata":[]}},"OrdersLogGroup":{"id":"OrdersLogGroup","path":"flexis-orders-development/OrdersLogGroup","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/OrdersLogGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7,"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.191.0","metadata":[]}},"OrdersService":{"id":"OrdersService","path":"flexis-orders-development/OrdersService","children":{"Service":{"id":"Service","path":"flexis-orders-development/OrdersService/Service","attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Fn::ImportValue":"flexis-ecs-development-cluster-name"},"deploymentConfiguration":{"deploymentCircuitBreaker":{"enable":true,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"OrdersTargetGroup0E9DF741"},"containerName":"api","containerPort":8080}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpcflexisdevelopmentprivateSubnet1Subnet64C4DFDFFF57E268"},{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpcflexisdevelopmentprivateSubnet2Subnet499D0346695584DE"}],"securityGroups":[{"Fn::ImportValue":"flexis-sg-development-ecs-sg-id"}]}},"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"taskDefinition":{"Ref":"TaskDefinitionB36D86D9"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.191.0","metadata":[]}},"OrdersAlb":{"id":"OrdersAlb","path":"flexis-orders-development/OrdersAlb","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/OrdersAlb/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"name":"flexis-development-alb","scheme":"internet-facing","securityGroups":[{"Fn::ImportValue":"flexis-sg-development-alb-sg-id"}],"subnets":[{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpcflexisdevelopmentpublicSubnet1Subnet3E4BE1798A428C14"},{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpcflexisdevelopmentpublicSubnet2Subnet4FD2A5D1B615790B"}],"tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"type":"application"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.191.0"}},"HttpListener":{"id":"HttpListener","path":"flexis-orders-development/OrdersAlb/HttpListener","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/OrdersAlb/HttpListener/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"OrdersTargetGroup0E9DF741"}}],"loadBalancerArn":{"Ref":"OrdersAlb6BC04FED"},"port":80,"protocol":"HTTP"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.191.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.191.0","metadata":[]}},"OrdersTargetGroup":{"id":"OrdersTargetGroup","path":"flexis-orders-development/OrdersTargetGroup","children":{"Resource":{"id":"Resource","path":"flexis-orders-development/OrdersTargetGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckPath":"/health","matcher":{"httpCode":"200"},"name":"flexis-development-tg","port":8080,"protocol":"HTTP","tags":[{"key":"application","value":"flexischools"},{"key":"environment","value":"development"},{"key":"owner","value":"devops@flexischools.com"},{"key":"product","value":"flexischools"}],"targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Fn::ImportValue":"flexis-vpc-development:ExportsOutputRefVpc8378EB38272D6E3A"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.191.0"}},"AlbDns":{"id":"AlbDns","path":"flexis-orders-development/AlbDns","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.191.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"flexis-orders-development/CDKMetadata","children":{"Default":{"id":"Default","path":"flexis-orders-development/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.191.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"flexis-orders-development/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.191.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"flexis-orders-development/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.191.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.191.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.2.52"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.191.0"}}}